# Updated code for a 125-question test with new features

def get_tester_name():
    """Prompts for and returns the tester's name."""
    name = input("Please enter your name: ")
    return name

def run_test_set(questions, set_number):
    """
    Runs a single test set and returns the results.
    Args:
        questions (list): A list of dictionaries, where each dictionary
                          contains a 'question' and 'answer'.
        set_number (int): The number of the current test set.
    Returns:
        tuple: A tuple containing the number of correct answers and a list
               of incorrect questions with correct answers.
    """
    correct_answers = 0
    incorrect_questions = []

    print(f"\n--- Starting Test Set {set_number} ---")
    
    for i, q in enumerate(questions):
        user_answer = input(f"Question {i + 1}: {q['question']}\nYour answer: ")
        
        if user_answer.strip().lower() == q['answer'].strip().lower():
            correct_answers += 1
        else:
            incorrect_questions.append({
                "question": q['question'],
                "user_answer": user_answer,
                "correct_answer": q['answer']
            })
            
    return correct_answers, incorrect_questions

def display_results(correct_answers, total_questions, incorrect_questions):
    """Displays the summary of a test set."""
    print("\n--- Test Set Results Summary ---")
    print(f"You answered {correct_answers} out of {total_questions} questions correctly.")

    if incorrect_questions:
        print("\n--- Review Incorrect Answers ---")
        for q in incorrect_questions:
            print(f"\nYour answer for '{q['question']}' was '{q['user_answer']}'.")
            print(f"The correct answer is: {q['correct_answer']}")
    print("-----------------------------------")

def main():
    """Main function to run the full test."""
    tester_name = get_tester_name()
    print(f"\nWelcome, {tester_name}! Let's start the test.")

    # A list of all 125 questions (replace with your actual questions)
    all_questions = [
        {'question': 'What is the capital of France?', 'answer': 'Paris'},
        {'question': 'What is 2 + 2?', 'answer': '4'},
        {'question': 'Who wrote "Romeo and Juliet"?', 'answer': 'Shakespeare'},
        # Add 122 more questions here
        {'question': 'What is the capital of Japan?', 'answer': 'Tokyo'},
    ] * 5  # Simplified for demonstration, but you should add 125 unique questions

    # Split the questions into 5 sets of 25
    total_questions = len(all_questions)
    questions_per_set = 25
    num_sets = total_questions // questions_per_set

    for i in range(num_sets):
        start_index = i * questions_per_set
        end_index = start_index + questions_per_set
        current_set = all_questions[start_index:end_index]
        
        correct, incorrect = run_test_set(current_set, i + 1)
        display_results(correct, questions_per_set, incorrect)

    print(f"\n{tester_name}, you have completed all test sets.")

if __name__ == "__main__":
    main()
